<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <title>Fiskespill</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
        <script src='main.js'></script>
        
        <style>
        /* Container som begrenser bevegelsen */
        .bar-container {
            width: 300px; /* Bestem hvor langt baren kan bevege seg */
            height: 20px;
            background: lightgray;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            /*Transform brukes for å endre utseende og plasseringen av et element, mens translate brukes for horisonale(x) og vertikalle(y) plasseringer. */

            border-radius: 10px;
            /* Border raidus gjør hjørnene runde istedenfor det vanlige(skarpe) */

            display: flex;
            /*display: flex; aktiverer CSS Flexbox, som er en måte å ordne, justere og plassere elementer i en container. */

            justify-content: center; /* horisonal sentrering */
            align-items: center; /* vertical sentrering */
        }

        /* Bar bevegelse */
        .bar {
            width: 100px;
            height: 10px;
            border-radius: 10px;
            background: red;
            position: relative; 
            /* Det er på sitt vanlige sted, men du kan flytte på det uten å påvirke andre elementer */

            transition: transform 0.5s ease-in-out;
            /* transform gjør at animationen går ut over en periode. Ease and out gjør at baren starter sakte, er kjapp i midten og slutter sakte. */
        
        }


            .box{
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 30%; 
                background-color: blue;
                margin: 0;
                z-index: 0;
            }
            .box2{
                position: absolute;
                bottom:70%;
                left: 70%;
                border-radius: 70px;
                width: 210px;
                height: 50px;
                background-color: rgb(255, 255, 255);
                margin: 0;
                border: 0;
                margin-top: 0;
                z-index: 2;
            }
            .box3{
                position: absolute;
                bottom:70%;
                left: 70%;
                border-radius: 70px;
                width: 70px;
                height: 70px;
                background-color: rgb(255, 255, 255);
                margin: 0;
                border: 0px;
                margin-top: 0;
                z-index: 2;
            }
            .box4{
                position: absolute;
                bottom:70%;
                left: 74.5%;
                border-radius: 250px;
                width: 100px;
                height: 100px;
                background-color: rgb(255, 255, 255);
                margin: 0;
                border: 0;
                margin-top: 0;
                z-index: 2;
            }
            .box5{
                position: absolute;
                bottom:70%;
                left: 81%;
                border-radius: 70px;
                width: 70px;
                height: 70px;
                background-color: rgb(255, 255, 255);
                margin: 0;
                border: 0;
                margin-top: 0;
                z-index: 2;
            }

        </style>            
    </head>
    <body style="background-color: rgb(47, 191, 239);">
        <div class="box"></div> 
        <div class="box2"></div>
        <div class="box3"></div>
        <div class="box4"></div>
        <div class="box5"></div>

    <!-- Container som begrenser baren -->
    <div class="bar-container">
        <div class="bar"></div>
    </div>

    <script>
        // const gjør at man ikke kan endre koden utenfor der koden er skrevet
        const bar = document.querySelector('.bar');
        const container = document.querySelector('.bar-container');

        let position = 0;
        const moveDistance = 50; // Hvor langt baren flytter seg per steg
        const maxPosition = (container.clientWidth - bar.clientWidth) / 2; // Beregn maks bevegelse

        function moveRandom() {

            const direction = Math.random() < 0.5 ? -1 : 1; 
            // Math random genererer et tall fra 0-1. (< 0.5 ?) sjekker om tallet er under 0.5, vis sant går baren ned med (-1) ellers går den opp med (+1)
            let newPosition = position + moveDistance * direction;

            // Koden gjør at baren ikke går utenfor containeren
            if (newPosition < -maxPosition) {
                newPosition = -maxPosition;
            } else if (newPosition > maxPosition) {
                newPosition = maxPosition;
            }

            position = newPosition; // Oppdater posisjon
            bar.style.transform = `translateX(${position}px)`; // Flytter baren. TranslateX er nødvendig for å flytte baren horizonalt(vannrett)
        }

        // Flytt baren tilfeldig hvert 700ms
        setInterval(moveRandom, 700);
        </script>


    </body>
</html>
